# Market Analysis Bot

–ë–æ—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä—ã–Ω–∫–æ–≤ Polymarket —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º OCR (Optical Character Recognition) —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **OCR –∞–Ω–∞–ª–∏–∑**: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü Polymarket —Å –ø–æ–º–æ—â—å—é Playwright + pytesseract
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- **Telegram –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram
- **PostgreSQL**: –†–∞–±–æ—Ç–∞ —Å –¥–≤—É–º—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö (markets –∏ mkrt_analytic)
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- PostgreSQL
- Tesseract OCR
- Playwright –±—Ä–∞—É–∑–µ—Ä—ã

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/spimethod/mkrt_analytic.git
cd mkrt_analytic
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Playwright –±—Ä–∞—É–∑–µ—Ä–æ–≤

```bash
playwright install
```

### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Tesseract OCR

```bash
# macOS
brew install tesseract

# Ubuntu/Debian
sudo apt-get install tesseract-ocr

# Windows
# –°–∫–∞—á–∞–π—Ç–µ —Å https://github.com/UB-Mannheim/tesseract/wiki
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `env_example.txt`:

```bash
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Polymarket
POLYMARKET_DB_HOST=localhost
POLYMARKET_DB_PORT=5432
POLYMARKET_DB_NAME=markets
POLYMARKET_DB_USER=postgres
POLYMARKET_DB_PASSWORD=your_password

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
ANALYTIC_DB_HOST=localhost
ANALYTIC_DB_PORT=5432
ANALYTIC_DB_NAME=mkrt_analytic
ANALYTIC_DB_USER=postgres
ANALYTIC_DB_PASSWORD=your_password

# Telegram
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_CHAT_ID=your_chat_id

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω–∞–ª–∏–∑–∞
MKRT_ANALYTIC_TIME_MIN=60
MKRT_ANALYTIC_PING_MIN=3
```

## üóÑ –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü:

```bash
psql -U postgres -d mkrt_analytic -f create_tables.sql
```

## üöÄ –ó–∞–ø—É—Å–∫

### –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫

```bash
python main.py
```

### –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

```bash
chmod +x run_bot.sh
./run_bot.sh
```

### –ö–∞–∫ systemd —Å–µ—Ä–≤–∏—Å

```bash
sudo cp market-analysis-bot.service /etc/systemd/system/
sudo systemctl enable market-analysis-bot
sudo systemctl start market-analysis-bot
```

## üìä –ò–∑–≤–ª–µ–∫–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ

–ë–æ—Ç –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ —Å —Ä—ã–Ω–∫–æ–≤ Polymarket:

- **–°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ä—ã–Ω–∫–∞**: –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –ª–∏ –∞–¥—Ä–µ—Å
- **–ù–∞–∑–≤–∞–Ω–∏–µ —Ä—ã–Ω–∫–∞**: –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≤–æ–ø—Ä–æ—Å–∞
- **–¢–∏–ø —Ä—ã–Ω–∫–∞**: –ë—É–ª–µ–≤—ã–π (–î–∞/–ù–µ—Ç) –∏–ª–∏ –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω—ã–π
- **–¶–µ–Ω—ã**: –ü—Ä–æ—Ü–µ–Ω—Ç—ã –¥–ª—è Yes/No –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
- **–ö–æ–Ω—Ç—Ä–∞–∫—Ç**: –ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
- **–û–±—ä–µ–º**: –û–±—â–∏–π –æ–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤
- **–°—Ç–∞—Ç—É—Å**: –Ω–æ–≤—ã–π/–≤ —Ä–∞–±–æ—Ç–µ/–∑–∞–∫—Ä—ã—Ç

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **OCR**: Playwright + pytesseract + RegEx
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: Telegram Bot API
- **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫**: schedule

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ë–æ—Ç –ª–æ–≥–∏—Ä—É–µ—Ç:

- –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ä—ã–Ω–∫–æ–≤
- –î–∞–Ω–Ω—ã–µ –æ —Ä—ã–Ω–∫–∞—Ö –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç
- –ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∞
- –û—à–∏–±–∫–∏

## üêõ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- **3 –ø–æ–ø—ã—Ç–∫–∏** –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∞–Ω–∞–ª–∏–∑–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ** —Ä—ã–Ω–∫–∞ –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫** –≤ Telegram

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–æ–≤—ã–µ —Ä—ã–Ω–∫–∏ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- –û–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã
- –õ–æ–≥–∏—Ä—É–µ—Ç —Å–≤–æ–¥–∫–∏ –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∞–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ –∑–∞–¥–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
